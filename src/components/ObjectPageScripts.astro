---
export interface Props {
  version: string;
  objectData: any;
  jsFileName?: string;
}

const { version, objectData, jsFileName } = Astro.props;
---

<!--Common astro scripts for all ParseObject pages--><!--The object's data, for use by js-->
<script
  type="application/json"
  id="object-data"
  set:text={JSON.stringify(objectData)}
/>

<!--Initialize localization on all the localizeable elements-->
<script type="module" define:vars={{ version }}>
  const localizationModule = await import('/js/localization.js');
  const { initializeLocalization } = localizationModule;
  initializeLocalization(version);
</script>

<!--Load the specific JS file for this object page, only if jsFileName is provided-->{
  jsFileName && (
    <script is:inline src={`${import.meta.env.BASE_URL}js/${jsFileName}`} />
  )
}
