---
export interface Props {
  iconPath?: string;
  altText: string;
  size?: number;
  color?: string;
}

const { iconPath, altText, size = 64, color } = Astro.props;

let iconSrc = null;
if (iconPath) {
  // Remove the leading slash and extract the path after "WRFrontiers/"
  iconSrc = `/WRFrontiersDB-Site/WRFrontiersDB-Data/textures${iconPath}.png`;
}
---

{
  iconSrc && color && (
    <div
      style={`
      display: inline-block;
      vertical-align: middle;
      width: ${size}px; 
      height: ${size}px; 
      background-color: #${color}; 
      -webkit-mask-image: url(${iconSrc}); 
      mask-image: url(${iconSrc}); 
      -webkit-mask-size: contain; 
      mask-size: contain;
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
    `}
      role="img"
      aria-label={altText}
    />
  )
}

{
  iconSrc && !color && (
    <img
      src={iconSrc}
      alt={altText}
      style={`display: inline-block; vertical-align: middle; width: ${size}px; height: ${size}px;`}
    />
  )
}
