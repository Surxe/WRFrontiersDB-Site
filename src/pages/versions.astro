---
import fs from 'fs';
import path from 'path';
import Page from '../components/Page.astro';

import type { VersionInfo } from '../utils/parse_object';

// Load version metadata
const versionsPath = path.join(process.cwd(), 'WRFrontiersDB-Data/versions.json');
const versions = JSON.parse(fs.readFileSync(versionsPath, 'utf8')) as Record<string, VersionInfo>;
---

<Page title="Versions">
    <p>Back to <a href="/WRFrontiersDB-Site/">Home</a></p>
    <h1>Versions</h1>

    <ul>
      {Object.entries(versions).map(([version, info]) => (
        <li>{info.title} ({version})</li>
      ))}
    </ul>
</Page>